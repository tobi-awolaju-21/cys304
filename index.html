<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alphabet Frequency Analysis</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-family: Arial, sans-serif;
    }
    #inputContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
      background-color: rgba(255, 255, 255, 0.471);
      position: absolute;
      top: 10vh;
      padding: 10px;
    }
    #canvasContainer {
      overflow-x: auto;
      width: 100%;
    }
    canvas {
      min-width: 1000px;
    }
  </style>
</head>
<body>
  <div id="inputContainer">
    <input type="text" id="textInput" placeholder="Enter text here" value="Dear Dad,
    I hope this letter finds you well. I just wanted to take a moment to tell you how much I love you. Being your youngest daughter, I've always felt a special bond with you, and I am so grateful for all the love and support you have given me over the years.
    You have always been there for me, guiding me with your wisdom, comforting me with your kindness, and inspiring me with your strength. Your unwavering support has helped me grow into the person I am today, and I cannot thank you enough for everything you have done for me. From the time I was a little girl, you have been my hero, my confidant, and my biggest cheerleader. Your presence in my life has been a constant source of joy and reassurance, and I treasure every moment we have shared.
    I cherish the memories we have created together and look forward to making many more. Your love and encouragement mean the world to me, and I want you to know that I love you more than words can express. From our fun family vacations to the simple moments we spend together at home, every experience with you is a cherished memory. Your laughter, your stories, and your hugs have always brought me immense comfort and happiness.
    Thank you for being the best dad anyone could ask for. Your guidance has been a beacon of light in my life, steering me through both good times and challenging moments. You have taught me so much about resilience, compassion, and integrity. Your lessons have shaped my values and my outlook on life, and I carry your wisdom with me every day.
    With all my love, I reflect on the countless ways you have impacted my life. From teaching me how to ride a bike to helping me with my homework, your patience and dedication have always amazed me. You have been there to celebrate my successes and to lift me up when I faced setbacks. Your belief in me has given me the confidence to pursue my dreams and to strive for excellence in everything I do.
    Growing up, I always knew I could count on you. Your presence at my school events, your encouragement during my extracurricular activities, and your genuine interest in my passions have made me feel valued and understood. You have shown me the importance of hard work and perseverance, and your own achievements have inspired me to aim high and never give up.
    Your love is a constant source of strength for me. In moments of doubt or difficulty, I find solace in knowing that you are there for me. Your comforting words and warm hugs have a magical way of making everything better. You have a unique ability to make me feel safe and protected, and I am so fortunate to have you as my father.
    I remember the stories you used to tell me at bedtime, the songs you would sing, and the games we played together. Those moments are etched in my heart forever. They are a testament to the incredible bond we share, a bond that has only grown stronger over the years. Your presence in my life has been a gift, and I am endlessly grateful for the love and care you have shown me.
    Your support has been unwavering, no matter what challenges I have faced. You have always believed in me, even when I doubted myself. Your faith in my abilities has given me the courage to take on new challenges and to push beyond my limits. I am so proud to be your daughter, and I strive to make you proud in everything I do.
    As I look to the future, I am excited about the many adventures and milestones we will experience together. I am grateful for the foundation of love and support you have provided, and I know that with you by my side, I can achieve anything. Thank you for being my rock, my mentor, and my best friend.
    Your love has shaped me into the person I am today, and I am forever indebted to you. I hope to carry forward the lessons you have taught me and to make you proud every step of the way. Your kindness, generosity, and strength are qualities I aspire to embody in my own life. You are my role model, and I am honored to be your daughter.
    With all my love,
    Esther
    " style="padding: 10px; width: 300px;">

    <button onclick="analyzeText()" style="margin-top: 10px; padding: 10px;">Analyze</button>
  </div>
  <div id="canvasContainer">
    <!-- The canvas will be created here by p5.js -->
  </div>

  <script>
    let inputText = "";

    function analyzeText() {
      inputText = document.getElementById('textInput').value;
      setup(); // Call setup to redraw the canvas with new text input
    }

    // p5.js setup function to initialize the canvas
    function setup() {
      let canvasContainer = document.getElementById('canvasContainer');
      let canvas = createCanvas(1000, 600);
      canvas.parent(canvasContainer);
      background(255); // Clear the canvas

      let sampleText = inputText;

      // Remove all empty spaces and convert to lowercase for uniformity
      sampleText = sampleText.replace(/\s+/g, '').toLowerCase();

      // Calculate the total number of alphabets
      let totalAlphabets = sampleText.length;

      // Initialize a frequency object
      let frequency = {};
      for (let char of sampleText) {
        if (char.match(/[a-z]/)) { // Ensure the character is an alphabet
          if (frequency[char]) {
            frequency[char]++;
          } else {
            frequency[char] = 1;
          }
        }
      }

      // Sort keys alphabetically
      let keys = Object.keys(frequency).sort();
      // Retrieve values based on sorted keys
      let values = keys.map(key => frequency[key]);
      // Find the maximum frequency for scaling
      let maxFreq = Math.max(...values);

      // Draw the bar chart
      let barWidth = width / keys.length;
      for (let i = 0; i < keys.length; i++) {
        let barHeight = map(values[i], 0, maxFreq, 0, height);
        noStroke();
        fill(150, 150, 255);
        rect(i * barWidth, height - barHeight, barWidth - 2, barHeight);

        // Draw the alphabet and frequency number at the base of the bar
        fill(0);
        textAlign(CENTER, BOTTOM);
        textSize(12);

        text(values[i], i * barWidth + barWidth / 2, height - 5); // Frequency at the base

        text(keys[i], i * barWidth + barWidth / 2, height - 20); // Alphabet at the base
      }
    }

  
  </script>
</body>
</html>